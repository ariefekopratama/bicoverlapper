S=Solved
D=Discarded (existing but decided not to solve by now, because it's minor or irrelevant)
->=Important

- S Remove License and Help panel by web browser
- Remove Bubble map
-> Option to write report with what's done
-Shift+click in selection narrow the columns! (HM)
-> GSEA encapsulated. Problem due to lmPerGene factor.
     S I solved it by dividing the method in two. Now I solved it to a single one!
     S Make it combinational, by now, EFV vs EF and EFV vs rest
-> Different stored favorite paths for networks, groups and matrices
-> Something+click on a gene -> go to ncbi webpage searched by that gene. Via www.ncbi.nlm.nih.gov/gene/entrezID
	S: Done for HM. Method is MicroarrayData.browseEntrezGene
	By now:
	 -click for new selection (all except WC and PC)
	 -drag for new selection (PC)
	 
	 -shift+click is to add to selection (O, N, HM)
	  
	 -right click to show additional info (O) -> it will better become go to EntrezGene webpage for the gene (O,HM,PC,N)
	 -ctrl+click to get similar profiles (HM)
	 -ctrl+drag for selection having into account only this threshold (PC)
	 
	  -Right click on background to get visualization options (HM, PC)
	  
-> Session - After closing a dataset, the program freezes when opening a new one
S Data - MAPK1 (ENSG00000100030) fails when retrieving its go terms via biomaRt.
		Solved, there was a problem with single gene search, that returned a matrix instead of a list
S Analysis - differential expression analysis. Close to solution.
			S 1) Done efv vs efv
			S 2) Done ef vs efv
			S 3) Not done ef vs ef
Data -		Close session properly when a new matrix is loaded. I think it's ok now
S Data - 	Direct download from ArrayExpress (raw) + process it and save in the BicOverlapper format.
Data - 		One step beyond, direct download and preprocessing of several experiments, either by ID list or by descriptive name!

		Currently, MicroarrayData are replicated in a double[][] and in a R matrix everytime we call R for something. That can be very memory consuming, maybe we
		should remove the java matrix and access only the R matrix --> That's a huge redesign.
		Right now, it works well for 300 000 expression levels, and slow for about 10e6, but it renders unusable for 3*10e6 (on a 2GHz, 3G RAM machine)
	   Check, when we load groups or networks, and there is an expression matrix loaded, if the genes matches and throw a warning window if not. 
Install - make installation as easy as possible, especially with the R thing
Config - it should save also the dimensions of the general window
		 it sometimes does not load properly, i don't know why.
BN (Config) - do not recompute forces everytime it goes to ok, only when "Change Forces" it is actually pressed 
HM - the search for neighbor profiles takes about 10s for a yeast array... get a thread like in the hypergeometric case
Annotation - Names are not properly retrieved on the second load for a microarray
BN (former TRN): Be able to stop the animation of expression
				Names fucked up after a second showLabels
TRN: Add another view with biological pathways, not loaded but obtained from KEGG or elsewhere. An intermediate window will be needed to select the pathway. 
	 It will be highly static in the best of the cases, I think.
PC, HM -> Sort columns by different EFVs. Exhaustive check on PC, Errors in HM
			HM condition labels work in selection of biclusters but not in sorting. The opposite for expression levels.
				S condition labels now work in sorting and bicluster selection. If they are sorted and then a bicluster is selected, the columns not in the bicluster still keep the sorting
				S About expression levels, now they work on sorting but not in expression levels, so we had leveled off their behavior with the ones of labels.
			PC if columns are sorted and then a bicluster is selected, the sorting is not kept.
			S HM initial sorting for the whole matrix (only worked for selected biclusters, and labels). Now solved

PC -> when resize: lines get out of limits, or limits shrink: solved, and data computations moved to the MicroarrayData class

BicOverlapper -> High dimensionality matrices. I'm trying with our merging, with ~50000x70, and experiencing several troubles.
				S It's specially because of the bad use of resources on parallel coordinates, that has been to some extent reduced. 
					PC now works really smooth for a 50000x70 example, with an initial time of about 3s and then almost real time. The mayor problem that PC may have above this number if the 
						screen space is small for so many axes. For 70 axes, with a 1920x1200 screen there's still space for about another 30 or so, and to be readable. For more, we will need to 
						filter out on demand.
				-> Also, the heatmap surpasses java heap space. Using Sizeof, i have around 30M reserved when I start reading a microarray data.
					For a ~10000x17 matrix, it ends the reading with 70M. I can save about 15M if I then run GC
					For a ~50000x67 matrix, it ends the reading with 950M. I can save about 250M if I then run GC, which is really important
					The max memory allowed is 1024M, so it's very close, although supposedly not too much additional memory will be needed.
					Actually, there are some methods, like properly choosing the color scale, that need matrices almost as large as the original, which makes
					the memory grow a lot. In this case, setting the max to 2048 we can see the whole matrix (with a lot of delay on times, but then nicely interactive), and
					the memory grows to 1.86GB. After the initial draw, you can perfectly work with it if you put a maximum or 2048
				S WC works pretty well after the different improvements done
				Biclustering: it seems that it is too much, probably R surpasses the memory limit with these examples
				
Project -> save several new things, such as:
				sorting, 
				labels shown, 
				S wc configuration of indices
				etc.
load project Should save the last location. Recent projects should take into account the last opened, not only the last saved.
				 
S WC -> Word scale in the case of hypergeometric tests doesn't look very well, it gives too much size gap between orders of magnitude.				

Overlapper -> Deseleccionar en todas las vistas cuando se deselecciona
				Deseleecionar en todas las vistas cuando se deselecciona uno de entre varios en overlaper

WordCloud -> Seleccionar GO terms... estudiar escalado

PC -> Profile hovering, selection DONE
      Remove hovering when going out of the focus of the PC window
      Pass hovering to other views.
				
17	PC	Slopes para selección?	Implementado, falta checkeo exhaustivo. Slopes para m'as de una condicion a la vez?

->67	Opt	Chequear la disponibilidad de las opciones de menú en todos los casos. Bien, salvo que a veces cuando falla la carga no cierra el cuadro de carga, ni permite cerrarlo
			->Al cargar un nuevo microarray, deberían deshabilitarse hasta que esté cargado (se habilitan porque corre el hilo de manera asíncrona y error es siempre true!
->73	Bic	Chequeo completo del análisis de biclustering
				Format error al leer los que se guardan de xmotifs
				S Interfaz de filtrado en todos
82	Text	Ventana con toda la información en modo texto de la selección actual: niveles de expresión, nombre, anotaciones, etc.	
83	Select	Selección solo de condiciones dibuja en blanco heatmap (debería también resetear scrolls en pc).
			Parece que es solo a veces...

68	PC	Error en scrolls al modificar tamaño de ventana
			Es al modificar en vertical, si se añade horizontal al final queda bien
			No es siempre, así que parece un tema de actualización desincronizada
->47	PC	Actualizaciones en general, chequeo completo
				S Selección de biclusters no coloca poligonos de fondo
71	HM	Tras seleccionar bicluster: 
			Al hover de condiciones q no están en el bicluster (con las etiquetas) -> muchas veces se seleccionan 2
			Al hover de expresiones-> como hover de condiciones
			S Al hover un gen no distorsiona las columnas seleccionadas
56	HM	Recuadritos para los niveles de expresión?
60	OV	Seleccionar clusters cuando se ha filtrado
65	OV	Etiquetas siempre encima (selecciones)
		S Mejorar legilibilidad de hover node -> He incrementado su anchura a 2, mientras que para seleccionados está a 3.
		Revisar threshold limits
55	Gen	Retirar del todo el tema MultidimensionalData
61	Layers	Selección PC+Navegación OV, con BM abierto. PC deja de marcar la selección
62	R	Adquisición de R... a veces no lo coge aunque debería tenerlo?
66	Err	Gestión y explicación de errores durante la carga de microarrays/biclusters/trns
		Cargas fallidas de R cuando sí que está correctamente instalado
		Wrong format: empty sample name(s)

D 78	TRN		Limitar la visualizacion a unos cuantos vecinos de los genes seleccionados. Muy interesante, pero con tiempo
D 74	Data	Tratamiento de NAs? En PCs deberían tratarse como un segmento que falta y en Heatmap como un recuadro en gris. Tendrían que venir en el fichero de entrada como NA
D/S 80	Anotaciones	La barra de progresos de anotaciones es coñazo, sobre todo con navegación overlapper, reparar para q no se llama cuando no debe
					S Navegación en Overlapper ya no vuelve a llamar a update.
					S Voy a quitar la barra y a sustituirla por una pequeña etiqueta de texto. Queda muchísimo mejor
					D Voy a probar el update on the fly, según se vayan consiguiendo las anotaciones. De momento no merece la pena
->44	S/D OV	Zoom: arreglar o quitar. Hay que arreglar
				S Dibujado de nodos en los bordes
				S Línea de selección de nodos. Empieza en algún lugar lejos al top-left 
				S Hover por hulls funciona pero selection no
				S Cuadro de navegación mal situado
				S Drag nodes no funciona (misma razón que el comienzo raro de la línea de seleccion
				S Puesto como mouse wheel action
				D Durante el zoom hay un desplazamiento que no sé si realmente se puede evitar
S/D 12	HM	Chequeo exaustivo
		Etiquetas diagonales
			S/D c) Que queden bien al distorsionar -> parece que también le falta la suma de la anchura del bounds...
			   Hago modificaciones para que esto no dependa de posiciones sino de identificadores, para evitar problemas en posiciones muy fronterizas y adquirir un mayor control
			   cambio el BifocalDistortion por un HeatmapHoverControl y comunicacion con MicroGridLayout, etc.
			   Las modificaciones hacen que el hovering quede mejor, pero aún hay varios temas:
			   	S c.1)	La distorsión de las etiquetas es distinta de la de los cuadrados de expresión, la mínima queda un poco más pequeña y a la larga las etiquetas ocupan menos que los cuadrados
			   			Ocurría en hover porque utilizaba el número de genes/cond seleccionadas en vez de el número de genes/cond sobrepasadas
			    D    c.2)	Extraño efecto al hover la primera etiqueta de condicion, que se va para adentro
			    D/S   c.3)	Ahora mismo, o hover o selección, si está hecha una selección no se permite el hover. Hecho pero:
			    		* S Con una columna seleccionada, paso del hover de la primera columna a la segunda (igual con filas)
			    		* S Distorsión de etiquetas cuando hover tras selección. Hecho para genes y condiciones
			    			S - Selección de la primera condición no seleccionada cuando hay una condición seleccionada sale mal (distorsiona a una dimensión mayor de la máxima la anchura)
			    		* S Hover del gen seleccionado distorsiona otro distinto!
			     		* D Rayicas blancas que a veces salen
			 
